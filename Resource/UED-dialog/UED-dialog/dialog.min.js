(function(){var a,b,c,d,e,f,g,h,i;a=$(window),e=function(a){return a.stopPropagation(),a.preventDefault()},f=function(){return Date.parse(new Date)+parseInt(1e3*Math.random(),10)},c=function(a){return $("<div/>").html(a).text()},h=function(){var a,b;return a=document.createElement("div"),b="Khtml O Moz Webkit".split(" "),function(c){var d,e,f;if(void 0!==a.style[c]||void 0!==a.style["-ms-"+c])return!0;for(c=c.replace(/^[a-z]/,function(a){return a.toUpperCase()}),e=0,f=b.length;f>e;e++)if(d=b[e],void 0!==a.style[""+d+c])return!0;return!1}}.call(this),g=h("animation")&&h("animation-name")&&h("transform"),d=function(a,b){return Object.prototype.toString.call(a).toLowerCase().slice(8,-1)===b},i={},this.VintDialog=function(){function b(){this.init.apply(this,arguments)}return b.prototype.refullMask=function(){return $(".zte-mask").width($(window).width()).height(Math.max(a.height(),$("body").height())),this},b.prototype.setMask=function(){var b=this;return this.body.append('<div class="zte-mask"></div>'),$(".zte-mask").on("click",function(){return b.setShake()}),a.on("resize",this.refullMask),this.refullMask()},b.prototype.clearMask=function(){return $(".zte-mask").remove(),a.off("resize",this.refullMask),this},b.prototype.center=function(){var b,c,d;return b=this.el,d=this,c=function(){return d.orgin_left=a.width()/2-b.width()/2,b.css({left:d.orgin_left,top:a.height()/3-b.height()/3})},a.on("resize",c),setTimeout(function(){return c(),g?b.show():b.fadeIn?b.fadeIn():b.animate({opacity:1},400)},0),this},b.prototype.setShake=function(){var a,b,c,d;if(a=$(".UED-dialog"),g)return a.removeClass("shake fadeinT"),setTimeout(function(){return a.addClass("shake")},0),void 0;for(a.stop(!0),c=this.orgin_left,b=d=1;4>=d;b=++d)a.animate({left:c-(16-4*b)},100).animate({left:c+2*(16-4*b)},100);return this},b.prototype.setMoveable=function(){var a,b,c,d,f,g=this;return c={},d=null,f=this,a=this.body,b=function(a){return f.orgin_left=d.left+a.pageX-c.left,f.el.css({left:f.orgin_left,top:d.top+a.pageY-c.top}),e(a)},this.el.find(".header").on("mousedown",function(f){var h;return h=$(f.currentTarget),a.on("mousemove",b),c.left=f.pageX,c.top=f.pageY,d=g.el.offset(),e(f)}),a.on("mouseup",function(c){return a.off("mousemove",b),e(c)}),this},b.prototype.setHead=function(a){var b=this;return this.el.append("<div class='header'><p>"+a+"</p><span class='close'>&times;</span></div>").find(".close").on("click",function(){return b.close()}),this.setMoveable()},b.prototype.setContent=function(a){return this.el.append("<div class='content'>"+a+"</div>"),this},b.prototype.setBtns=function(){var a,b,c,d,e,g;for(this.el.append("<div class='footer'><div class='btn-groups'></div></div>"),a=this.el.find(".btn-groups"),c=[],e=0,g=arguments.length;g>e;e++)b=arguments[e],d=f(),c.push("<button class='btn btn_"+b.type+" "+(b.submit?"btn_submit":"")+"' id='zte-btn-"+d+"'>"+b.name+"</button>"),a.on("click","#zte-btn-"+d,b.callback||$.noop);return a.html(c.join("")),this},b.prototype.close=function(){var a=this;return delete i[this.id],i.length-=1,i.length||this.clearMask(),this.el.fadeTo?this.el.fadeTo(100,0,function(){return a.el.remove()}):this.el.animate({opacity:0},"ease",function(){return a.el.remove()})},b.prototype.onColose=function(a){var b=this;return this.el.find(".close").on("click",function(){return a.call(b)})},b.prototype.init=function(){return this.id=f(),this.orgin_left=0,i[this.id]=this,i.length=i.length?i.length+1:1,this.body=$("body").append("<div class='UED-dialog fadeinT' id='zte-"+this.id+"'>"),this.el=$("#zte-"+this.id).hide(),1===i.length&&this.setMask(),this.center()},b}(),b=this.VintDialog,this.dialog={init:function(a){var c;return c=[new b,a[0]],a[1]&&d(a[1],"object")?(c[2]=$.noop,c[3]=a[1]):(c[2]=a[1]||$.noop,c[3]=a[2]||{}),c},alert:function(a,b,c){var d,e;return e=this.init(arguments),d=e[0],a=e[1],b=e[2],c=e[3],d.setHead(c.title||"系统消息"),d.setContent("<p class='dialog--alert'>"+a+"</p>"),d.setBtns({name:c.btn_name||"确定",submit:!0,type:"primary",callback:function(){return b&&b.call(d),d.close()}}),d.onColose(function(){return b?b.call(d):void 0}),setTimeout(function(){return d.el.find(".btn_submit").focus()},0)},confirm:function(a,b,c){var d,e;return e=this.init(arguments),d=e[0],a=e[1],b=e[2],c=e[3],d.setHead(c.title||"系统消息"),d.setContent("<p class='dialog--confirm'>"+a+"</p>"),c.danger?d.setBtns({name:c.btn_name||"确定",type:"default",callback:function(){return b&&b.call(d,!0),d.close()}},{name:"取消",type:"primary",submit:!0,callback:function(){return b&&b.call(d,!1),d.close()}}):d.setBtns({name:"取消",type:"default",callback:function(){return b&&b.call(d,!1),d.close()}},{name:c.btn_name||"确定",submit:!0,type:"primary",callback:function(){return b&&b.call(d,!0),d.close()}}),d.onColose(function(){return b?b.call(d,!1):void 0}),setTimeout(function(){return d.el.find(".btn_submit").focus()},0)},prompt:function(a,b,d){var e,f,g,h,i,j,k,l,m,n,o,p,q;if(o=this.init(arguments),g=o[0],a=o[1],b=o[2],d=o[3],g.setHead(d.title||"系统消息"),g.setContent("<p class='dialog--prompt'>"+a+"<div class='form-item'><input type='"+(d.type||"text")+"' value='"+(d.value?c(d.value):"")+"' class='ipt'><p class='input_explain'></p></div></p>"),e=g.el,f=e.find("input").on("keydown",function(a){return 13===1*a.keyCode?(e.find(".btn_submit").click(),!1):void 0}),setTimeout(function(){return f.focus()},0),d.max_length&&(e.find(".input_explain").text(d.tip||"请输入 "+d.max_length+" 位以内的文字"),f.attr("maxlength",d.max_length)),i=[],(void 0===d.require||d.require)&&i.push({tip:"输入内容不能为空",condition:function(a){return a.length>0}}),d.max_length&&i.push({tip:"输入内容不能超过 "+d.max_length+" 位",condition:function(a){return a.length<=d.max_length}}),d.verify)for(p=d.verify,l=0,n=p.length;n>l;l++)q=p[l],i.push(q);return k=!1,j=function(a,b){var c,d,f;for(d=0,f=i.length;f>d;d++)if(c=i[d],!c.condition(a))return b&&!k&&(k=!0,e.find(".form-item").append("<p class='error_msg fadein'>"+c.tip+"!</p>")),k&&e.find(".error_msg").text(c.tip),!1;return k&&(e.find(".error_msg").remove(),k=!1),!0},m=!1,f.on("input",function(){var a;return a=$.trim(f.val()),j(a)?m&&(f.removeClass("error"),m=!1):m||(f.addClass("error"),m=!0),!0}),f[0].attachEvent&&f[0].attachEvent("onpropertychange",function(a){return"value"===a.propertyName.toLowerCase()?f.trigger("input"):void 0}),d["default"]&&f.trigger("input"),h=function(){var a;return a=$.trim(f.val()),j(a,!0)?(b&&b.call(g,a),g.close()):(f.addClass("error"),m=!0,setTimeout(function(){return f.focus()},0),g.setShake())},d.danger?g.setBtns({name:d.btn_name||"确定",type:"default",submit:!0,callback:h},{name:"取消",type:"primary",callback:function(){return b&&b.call(g,!1),g.close()}}):g.setBtns({name:"取消",type:"default",callback:function(){return b&&b.call(g,!1),g.close()}},{name:d.btn_name||"确定",type:"primary",submit:!0,callback:h}),g.onColose(function(){return b?b.call(g,!1):void 0})}}}).call(this);